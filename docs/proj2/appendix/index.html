

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="../../assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="../../assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

    .site-nav > ul.nav-list:first-child > li > a,
    
    .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(11)) > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a {
      background-image: none;
    }

    .site-nav > ul.nav-list:not(:first-child) a,
    .site-nav li.external a {
      background-image: none;
    }

    .site-nav > ul.nav-list:first-child > li:nth-child(7) > ul > li:nth-child(11) > a {
      font-weight: 600;
      text-decoration: none;
    }.site-nav > ul.nav-list:first-child > li:nth-child(7) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(7) > ul > li:nth-child(11) > button svg {
      transform: rotate(-90deg);
    }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(7) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(7) > ul.nav-list > li.nav-list-item:nth-child(11) > ul.nav-list {
      display: block;
    }
  </style>

  

  
    <script src="../../assets/js/vendor/lunr.min.js"></script>
  

  <script src="../../assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="icon" href="../../favicon.ico" type="image/x-icon">



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Appendix | CS 161 Fall 2025</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Appendix" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Computer Security at UC Berkeley" />
<meta property="og:description" content="Computer Security at UC Berkeley" />
<link rel="canonical" href="index.html" />
<meta property="og:url" content="https://fa25.cs161.org/proj2/appendix/" />
<meta property="og:site_name" content="CS 161 Fall 2025" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Appendix" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Computer Security at UC Berkeley","headline":"Appendix","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://fa25.cs161.org/"}},"url":"https://fa25.cs161.org/proj2/appendix/"}</script>
<!-- End Jekyll SEO tag -->


  <link
  rel="preload"
  href="https://fa25.cs161.org/assets/css/just-the-docs-dark.css"
  as="style"
>

<!-- Intentionally duplicates the default theme stylesheet so there's a fallback when changing themes -->
<link
  id="jtdThemeCSS"
  rel="stylesheet"
  href="../../assets/css/just-the-docs-default.css"
>

<script>
  /* Script to enable persistent dark mode. */

  jtd.getTheme = function () {
    var cssFileHref = (
      document.getElementById('jtdThemeCSS') || document.querySelector('[rel="stylesheet"]')
    ).getAttribute('href');
    return cssFileHref.substring(cssFileHref.lastIndexOf('-') + 1, cssFileHref.length - 4);
  };

  jtd.setTheme = function (theme) {
    var cssFile = document.getElementById('jtdThemeCSS') || document.querySelector('[rel="stylesheet"]');
    cssFile.setAttribute('href', cssFile.getAttribute('href').replace(jtd.getTheme(), theme));
  };

  let toggleDark = () => {
    let setDark = jtd.getTheme() !== 'dark';
    document.documentElement.setAttribute('data-theme', setDark ? 'dark' : 'default');
    document.documentElement.setAttribute('data-theme', setDark ? 'dark' : 'default');
    jtd.setTheme(setDark ? 'dark' : 'default');
    localStorage.setItem('darkMode', String(setDark));

    if (typeof calendar !== 'undefined') {
      calendar.setColorScheme(setDark ? 'dark' : 'light');
    }
  };

  if (localStorage.getItem('darkMode') === 'true') {
    toggleDark();
  }
</script>

<!-- Script for LaTeX rendering. -->
<link
  rel="stylesheet"
  href="../../assets/katex/katex.min.css"
>
<script defer src="../../assets/katex/katex.min.js"></script>
<script>
  function renderKaTeX() {
    renderMathInElement(document.body, {
      delimiters: [
        { left: '$$', right: '$$', display: true },
        { left: '$', right: '$', display: false },
        { left: '\\(', right: '\\)', display: false },
        { left: '\\[', right: '\\]', display: true },
      ],
    });
  }
</script>
<script
  defer
  src="../../assets/katex/contrib/auto-render.min.js"
  onload="renderKaTeX();"
></script>


</head>

<body>
  <a class="skip-to-main" href="index.html#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="https://fa25.cs161.org/" class="site-title lh-tight">


  CS 161 Fall 2025

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><a href="https://fa25.cs161.org/exam/" class="nav-list-link">Exam Logistics</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/calendar/" class="nav-list-link">Calendar</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/policies/" class="nav-list-link">Policies</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Resources category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="https://fa25.cs161.org/resources/" class="nav-list-link">Resources</a><ul class="nav-list"><li class="nav-list-item"><a href="https://fa25.cs161.org/resources/faqs/" class="nav-list-link">Spring 2026 FAQs</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/resources/instructional-machine/" class="nav-list-link">Instructional Machine Setup</a></li></ul></li><li class="nav-list-item"><a href="https://fa25.cs161.org/staff/" class="nav-list-link">Staff</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Project 1 category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="https://fa25.cs161.org/proj1/" class="nav-list-link">Project 1</a><ul class="nav-list"><li class="nav-list-item"><a href="https://fa25.cs161.org/proj1/getting-started/" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj1/customizing/" class="nav-list-link">Customizing</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj1/q1/" class="nav-list-link">Question 1: Remus</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj1/q2/" class="nav-list-link">Question 2: Spica</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj1/q3/" class="nav-list-link">Question 3: Polaris</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj1/q4/" class="nav-list-link">Question 4: Vega</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj1/q5/" class="nav-list-link">Question 5: Deneb</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj1/q6/" class="nav-list-link">Question 6: Antares</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj1/q7/" class="nav-list-link">Question 7: Rigel</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj1/deliverables/" class="nav-list-link">Deliverables</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj1/vm-debugging/" class="nav-list-link">Troubleshooting</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Project 2 category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="../index.html" class="nav-list-link">Project 2</a><ul class="nav-list"><li class="nav-list-item"><a href="../story/index.html" class="nav-list-link">Story</a></li><li class="nav-list-item"><a href="../policies.html" class="nav-list-link">Project 2 Policies and Deliverables</a></li><li class="nav-list-item"><a href="../getting-started.html" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="../overview/index.html" class="nav-list-link">Design Overview</a></li><li class="nav-list-item"><a href="../library.html" class="nav-list-link">Library Functions</a></li><li class="nav-list-item"><a href="../userauth/index.html" class="nav-list-link">Users And User Authentication</a></li><li class="nav-list-item"><a href="../files/index.html" class="nav-list-link">File Operations</a></li><li class="nav-list-item"><a href="../sharing/index.html" class="nav-list-link">Sharing and Revocation</a></li><li class="nav-list-item"><a href="../troubleshooting.html" class="nav-list-link">Debugging and Errors</a></li><li class="nav-list-item"><a href="../advice/index.html" class="nav-list-link">Advice and Tips</a></li><li class="nav-list-item"><a href="index.html" class="nav-list-link">Appendix</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Project 3 category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="https://fa25.cs161.org/proj3/" class="nav-list-link">Project 3</a><ul class="nav-list"><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/story/" class="nav-list-link">Story</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/getting-started/" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/tips/" class="nav-list-link">General Tips</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/flag1/" class="nav-list-link">Flag 1: dev</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/flag2/" class="nav-list-link">Flag 2: ip.txt</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/flag3/" class="nav-list-link">Flag 3: shomil</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/flag4/" class="nav-list-link">Flag 4: nicholas</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/flag5/" class="nav-list-link">Flag 5: cs161</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/flag6/" class="nav-list-link">Flag 6: delete</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/flag7/" class="nav-list-link">Flag 7: admin</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/flag8/" class="nav-list-link">Flag 8: config</a></li><li class="nav-list-item"><a href="https://fa25.cs161.org/proj3/deliverables/" class="nav-list-link">Deliverables</a></li></ul></li></ul>
  
</nav>




  
  
    <div class="site-footer">
	Report an <a href="https://dap.berkeley.edu/get-help/report-web-accessibility-issue">accessibility issue</a>.

	<br><br>

	This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
</div>
  
</div>

  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search CS 161 Fall 2025" aria-label="Search CS 161 Fall 2025" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="index.html#" class="site-button"
          
        >
          Dark Mode
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://textbook.cs161.org" class="site-button"
          
        >
          Textbook
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://edstem.org/us/courses/83260" class="site-button"
          
        >
          Ed
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://oh.cs161.org" class="site-button"
          
        >
          OH Queue
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://forms.gle/uaFdyWWqnPkW9Uhg6" class="site-button"
          
        >
          Extensions
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://forms.gle/bW9nen9oHGNUzWo69" class="site-button"
          
        >
          Anonymous Feedback
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://calendar.app.google/9quTrjViGAGPG47Z8" class="site-button"
          
        >
          Student Support
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
    <li class="breadcrumb-nav-list-item"><a href="../index.html">Project 2</a></li>
    <li class="breadcrumb-nav-list-item"><span>Appendix</span></li>
  </ol>
</nav>


      <div id="main-content" class="main-content">
        <main>
          
            <div class="content-container">
    <nav class="content-nav nav-list js-toc" aria-label="In-page navigation">
      <ul class="nav-list"><li class="nav-list-item"><a href="index.html#general-requirements" class="nav-list-link">General Requirements</a></li><li class="nav-list-item"><a href="index.html#library-functions-summary" class="nav-list-link">Library Functions Summary</a></li><li class="nav-list-item"><a href="index.html#users-and-user-authentication-summary" class="nav-list-link">Users and User Authentication Summary</a></li><li class="nav-list-item"><a href="index.html#file-operations-summary" class="nav-list-link">File Operations Summary</a></li><li class="nav-list-item"><a href="index.html#sharing-and-revoking-summary" class="nav-list-link">Sharing and Revoking Summary</a></li></ul>
    </nav>
  <div class="content">
<h1 id="appendix-design-requirements-cheat-sheet">
  
  
    <a href="index.html#appendix-design-requirements-cheat-sheet" class="anchor-heading" aria-labelledby="appendix-design-requirements-cheat-sheet"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Appendix: Design Requirements Cheat Sheet
  
  
</h1>
    

<p>This is a non-comprehensive summary of the design requirements. It is not a substitute for reading the spec. All information on this page is also on the spec.</p>
<h2 id="general-requirements">
  
  
    <a href="index.html#general-requirements" class="anchor-heading" aria-labelledby="general-requirements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> General Requirements
  
  
</h2>
    

<ul>
  <li>Atomic Operations
    <ul>
      <li>Only one function is called at a time.</li>
      <li>We won’t quit the program in the middle of a function call.</li>
      <li>Malicious action will only happen in between function calls.</li>
    </ul>
  </li>
  <li>Stateless Design
    <ul>
      <li>You cannot use global variables (except for basic constants).</li>
      <li>You cannot store persistent information in the code’s local memory.</li>
      <li>Instead, you must store persistent data on Datastore or Keystore.</li>
    </ul>
  </li>
  <li>Keystore
    <ul>
      <li>You can only store public keys (no hashes, no structs, no files, etc.) on Keystore.</li>
    </ul>
  </li>
  <li>Datastore Adversary
    <ul>
      <li>They can list out and read all values on Datastore.</li>
      <li>They can modify Datastore in between function calls.</li>
      <li>They can take snapshots of Datastore at any time and compare differences between snapshots.</li>
      <li>They are not a user in the system, and will not collude with other users.</li>
    </ul>
  </li>
  <li>Error Handling
    <ul>
      <li>When a function cannot execute correctly, return a non-nil error.</li>
      <li>You do not need to recover from errors.</li>
      <li>When malicious action occurs, you can either return a non-nil error, or complete the function correctly (despite the malicious action).</li>
      <li>After a non-nil error occurs, all subsequent functions have undefined behavior, as long as you do not violate any security requirements.</li>
      <li>Your code should never panic (crash). Always return non-nil errors instead.</li>
    </ul>
  </li>
</ul>
<h2 id="library-functions-summary">
  
  
    <a href="index.html#library-functions-summary" class="anchor-heading" aria-labelledby="library-functions-summary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Library Functions Summary
  
  
</h2>
    

<ul>
  <li>Keystore
    <ul>
      <li><code class="language-plaintext highlighter-rouge">KeystoreSet</code>: Stores a name-value pair.</li>
      <li><code class="language-plaintext highlighter-rouge">KeyStoreGet</code>: Reads a value given a name.</li>
    </ul>
  </li>
  <li>Datastore
    <ul>
      <li><code class="language-plaintext highlighter-rouge">DatastoreSet</code>: Stores a name-value pair.</li>
      <li><code class="language-plaintext highlighter-rouge">DatastoreGet</code>: Reads a value given a name.</li>
      <li><code class="language-plaintext highlighter-rouge">DatastoreDelete</code>: Deletes a name-value pair.</li>
    </ul>
  </li>
  <li>UUID
    <ul>
      <li><code class="language-plaintext highlighter-rouge">uuid.New</code>: A random, unique UUID.</li>
      <li><code class="language-plaintext highlighter-rouge">uuid.FromBytes</code>: Converts a 16-byte slice into a UUID.</li>
    </ul>
  </li>
  <li>JSON
    <ul>
      <li><code class="language-plaintext highlighter-rouge">json.Marshal</code>: Converts a struct into a byte array. Only converts struct fields that are capitalized.</li>
      <li><code class="language-plaintext highlighter-rouge">json.Unmarshal</code>: Converts a marshalled byte array back into a struct.</li>
    </ul>
  </li>
  <li>Crypto: Miscellaneous
    <ul>
      <li><code class="language-plaintext highlighter-rouge">RandomBytes</code>: Generates the requested number of random bytes.</li>
      <li><code class="language-plaintext highlighter-rouge">Hash</code>: 64-byte hash of arbitrary-length data.</li>
    </ul>
  </li>
  <li>Crypto: Symmetric-key, confidentiality
    <ul>
      <li><code class="language-plaintext highlighter-rouge">SymEnc</code>: AES-CTR encryption. You provide IV and key. Outputted ciphertext contains IV.</li>
      <li><code class="language-plaintext highlighter-rouge">SymDec</code>: AES-CTR decryption. Panics (avoid this) if the ciphertext is too short to decrypt.</li>
    </ul>
  </li>
  <li>Crypto: Symmetric-key, integrity
    <ul>
      <li><code class="language-plaintext highlighter-rouge">HMACEval</code>: 64-byte HMAC of arbitrary-length data.</li>
      <li><code class="language-plaintext highlighter-rouge">HMACEqual</code>: Compares two HMACs/hashes for equality.</li>
    </ul>
  </li>
  <li>Crypto: Public-key, confidentiality
    <ul>
      <li><code class="language-plaintext highlighter-rouge">PKEKeyGen</code>: New, random, public/private key pair.</li>
      <li><code class="language-plaintext highlighter-rouge">PKEEnc</code>: Encrypts with the public key. Cannot support long plaintext (consider a hybrid encryption helper function).</li>
      <li><code class="language-plaintext highlighter-rouge">PKEDec</code>: Decrypts with the private key.</li>
    </ul>
  </li>
  <li>Crypto: Public-key, integrity
    <ul>
      <li><code class="language-plaintext highlighter-rouge">DSKeyGen</code>: New, random, public/private key pair.</li>
      <li><code class="language-plaintext highlighter-rouge">DSSign</code>: Signs with the private key.</li>
      <li><code class="language-plaintext highlighter-rouge">DSVerify</code>: Checks if signature is valid on message, using the public key.</li>
    </ul>
  </li>
  <li>Crypto: Key Derivation
    <ul>
      <li><code class="language-plaintext highlighter-rouge">HashKDF</code>: Hashes together source key and purpose. Lets you derive multiple keys from one source key.</li>
      <li><code class="language-plaintext highlighter-rouge">PBKDF</code>: Slow hash on a password and salt. Output can be used as a symmetric key.</li>
    </ul>
  </li>
</ul>
<h2 id="users-and-user-authentication-summary">
  
  
    <a href="index.html#users-and-user-authentication-summary" class="anchor-heading" aria-labelledby="users-and-user-authentication-summary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Users and User Authentication Summary
  
  
</h2>
    

<ul>
  <li><code class="language-plaintext highlighter-rouge">InitUser</code>
    <ul>
      <li>Error if an user with the same username exists.</li>
      <li>Error if an empty username is provided.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">GetUser</code>
    <ul>
      <li>Error if the user does not exist.</li>
      <li>Error if the password is incorrect.</li>
    </ul>
  </li>
  <li>Usernames and Passwords
    <ul>
      <li>Usernames are unique and case-sensitive, and are any string of 1 or more characters.</li>
      <li>Passwords are not unique, and are any string of 0 or more characters.</li>
      <li>Brute-force password attacks are possible when using fast hashes, but not when using PBKDF.</li>
    </ul>
  </li>
  <li>Multiple devices
    <ul>
      <li>If the constructor is called multiple times for the same user, multiple User objects exist on different devices. All changes from one device must be reflected on all other devices immediately (i.e. on the next function call).</li>
    </ul>
  </li>
</ul>
<h2 id="file-operations-summary">
  
  
    <a href="index.html#file-operations-summary" class="anchor-heading" aria-labelledby="file-operations-summary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> File Operations Summary
  
  
</h2>
    

<ul>
  <li><code class="language-plaintext highlighter-rouge">User.StoreFile</code>
    <ul>
      <li>Stores a new file if the filename doesn’t exist in the namespace.</li>
      <li>Overwrites the existing file if the filename exists in the namespace.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">User.LoadFile</code>
    <ul>
      <li>Error if filename doesn’t exist in namespace.</li>
    </ul>
  </li>
  <li>Files
    <ul>
      <li>Confidentiality is required on file contents, filenames, and length of filenames (and any data that could be used to learn those three values). Confidentiality is not required on anything else.</li>
      <li>You must detect if a file has been tampered with.</li>
      <li>Filenames are any string of 0 or more characters.</li>
      <li>Namespace: Different users could use the same filename, but they could refer to different files.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">User.AppendToFile</code>
    <ul>
      <li>You don’t need to check the integrity of the file before appending.</li>
      <li>Error if filename doesn’t exist in namespace.</li>
      <li>Bandwidth: The total amount of data uploaded with DatastoreGet, and downloaded with DatastoreSet, must be a constant. Bandwidth can only scale with the size of the data being appended. Compute, time, space, etc. does not matter for efficiency, only bandwidth.</li>
    </ul>
  </li>
</ul>
<h2 id="sharing-and-revoking-summary">
  
  
    <a href="index.html#sharing-and-revoking-summary" class="anchor-heading" aria-labelledby="sharing-and-revoking-summary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sharing and Revoking Summary
  
  
</h2>
    

<ul>
  <li>Sharing and Revoking
    <ul>
      <li>The user who first creates a file with <code class="language-plaintext highlighter-rouge">StoreFile</code> is the owner.</li>
      <li>The owner, and anybody who has accepted an invitation, should be able to access the file (load, store, append, create invitations).</li>
      <li>If a user changes the file, all users with access must see the changes immediately (i.e. on the next function call).</li>
      <li>You cannot create copies of the file.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">User.CreateInvitation</code>
    <ul>
      <li>Stores information for the recipient on Datastore and returns the UUID of that information.</li>
      <li>Error if filename doesn’t exist in namespace, or if recipient user doesn’t exist.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">User.AcceptInvitation</code>
    <ul>
      <li>The UUID returned from <code class="language-plaintext highlighter-rouge">CreateInvitation</code> is securely passed to the recipient.</li>
      <li>The recipient can choose their own filename (possibly different) for the shared file in their own namespace.</li>
      <li>Error if the chosen filename already exists.</li>
      <li>Error if the invitation UUID is wrong, or unable to be processed correctly.</li>
      <li>Error if the invitation UUID is invalidated from a revoke.</li>
      <li>Undefined if the invitation UUID has already been accepted before.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">User.RevokeAccess</code>
    <ul>
      <li>Revokes access from the target user, and all the users that the target user shared the file with (either directly or indirectly).</li>
      <li>Only the owner can call this (undefined otherwise).</li>
      <li>Can only be called on a user the owner directly shared the file with (undefined otherwise).</li>
      <li>Could be called either before or after the user accepts the invitation.</li>
      <li>Revoked users should get an error when trying to access the file (e.g. load, store, etc.).</li>
      <li>Revoked users should be unable to regain access, even if they maliciously use Datastore.</li>
      <li>Non-revoked users should be able to continue accessing the file without needing to re-accept any invitations.</li>
      <li>Error if filename doesn’t exist, or target user doesn’t have access.</li>
    </ul>
  </li>
  <li>Revoked User Adversary
    <ul>
      <li>They will only try to regain access to the file. They won’t tamper with files they still have access to.</li>
      <li>They could try to call functions with different arguments.</li>
      <li>They could directly read/modify Datastore, but cannot list all UUIDs being used.</li>
      <li>They can write down any values (i.e. local variables your code computed) before getting access revoked.</li>
      <li>They should be unable to read the latest file, modify the file without being detected, or deduce when future updates are happening.</li>
    </ul>
  </li>
</ul>

  </div>
</div>

          

          
            
          
        </main>
        

  <hr>
  <footer>
    

    









<script>
  (function () {
    var navList = document.querySelector('.aux-nav-list');
    if (!navList || !navList.firstElementChild) return;
    var darkToggle = navList.firstElementChild;
    darkToggle.addEventListener('click', (e) => {
      e.preventDefault();
      toggleDark();
    });
  })();
</script>

<script src="../../assets/js/tocbot.min.js"></script>
<script>
  // Tries to mirror the HTML TOC
  tocbot.init({
    tocSelector: '.js-toc',
    contentSelector: '.content',
    headingSelector: 'h2,h3,h4,h5,h6',
    ignoreSelector: '.no_toc',
    hasInnerContainers: true,
    linkClass: 'nav-list-link',
    activeLinkClass: 'active',
    listClass: 'nav-list',
    listItemClass: 'nav-list-item',
    activeListItemClass: 'active',
    collapseDepth: 3,
    scrollSmooth: false,
  });
</script>


    
  </footer>


      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

